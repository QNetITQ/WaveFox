@import "special/windows_11_10.css";
@import "special/windows_8_7.css";
@import "special/linux.css";
@import "special/mac.css";

@media (-moz-platform: windows),
       (-moz-platform: linux),
       (-moz-platform: macos)
{

/* ---------------------------------------- Shadows ---------------------------------------- */

:root:is(:not(:-moz-lwtheme),
         [lwt-default-theme-in-dark-mode],
         [style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"],
         [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"])
{
    --tab-bar-main-inner-shadow: inset 0 calc(-1 * var(--main-shadow-blur, 0px)) var(--main-shadow-blur, 0px) calc(-1 * var(--main-shadow-blur, 0px)) var(--main-shadow-color, transparent);
    --special-main-outer-shadow: drop-shadow(0 0 calc(var(--main-shadow-blur, 0px) / 2) var(--main-shadow-color, transparent));

    --tab-bar-additional-inner-shadow: inset 0 calc(-1 * var(--additional-shadow-blur, 0px)) var(--additional-shadow-blur, 0px) calc(-1 * var(--additional-shadow-blur, 0px)) var(--additional-shadow-color, transparent);
    --special-additional-outer-shadow: drop-shadow(0 0 calc(var(--additional-shadow-blur, 0px) / 2) var(--additional-shadow-color, transparent));
}

/* ---------- Tab Bar Border ---------- */

@media (prefers-color-scheme: light)
{
    @supports -moz-bool-pref("userChrome.LowBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.1);
        }
    }

    @supports -moz-bool-pref("userChrome.MediumBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.15);
        }
    }

    @supports -moz-bool-pref("userChrome.HighBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.2);
        }
    }

    @supports -moz-bool-pref("userChrome.VeryHighBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.25);
        }
    }
}

@media (prefers-color-scheme: dark)
{
    @supports -moz-bool-pref("userChrome.LowBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.25);
        }
    }

    @supports -moz-bool-pref("userChrome.MediumBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.5);
        }
    }

    @supports -moz-bool-pref("userChrome.HighBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgba(0,0,0,0.75);
        }
    }

    @supports -moz-bool-pref("userChrome.VeryHighBorderSaturation-Enabled")
    {
        :root
        {
            --main-shadow-blur: 2px;
            --main-shadow-color: rgb(0,0,0);
        }
    }
}

/* ---------- Tab Bar Shadow ---------- */

@supports -moz-bool-pref("userChrome.IncreaseShadowBlur-Enabled")
{
    :root
    {
        --increased-shadow-blur: 8px;
    }
}

@media (prefers-color-scheme: light)
{
    @supports -moz-bool-pref("userChrome.LowShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.1);
        }
    }

    @supports -moz-bool-pref("userChrome.MediumShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.15);
        }
    }

    @supports -moz-bool-pref("userChrome.HighShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.2);
        }
    }

    @supports -moz-bool-pref("userChrome.VeryHighShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.25);
        }
    }
}

@media (prefers-color-scheme: dark)
{
    @supports -moz-bool-pref("userChrome.LowShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.25);
        }
    }

    @supports -moz-bool-pref("userChrome.MediumShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.5);
        }
    }

    @supports -moz-bool-pref("userChrome.HighShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgba(0,0,0,0.75);
        }
    }

    @supports -moz-bool-pref("userChrome.VeryHighShadowSaturation-Enabled")
    {
        :root
        {
            --additional-shadow-blur: var(--increased-shadow-blur, 4px);
            --additional-shadow-color: rgb(0,0,0);
        }
    }
}

/* ---------------------------------------- Pinned Tabs Width ---------------------------------------- */

@supports -moz-bool-pref("userChrome.PinnedTabsWidthLowIncrease-Enabled")
{
    :root
    {
        --pinned-tabs-width-offset: 2px;
    }
}

@supports -moz-bool-pref("userChrome.PinnedTabsWidthHighIncrease-Enabled")
{
    :root
    {
        --pinned-tabs-width-offset: 4px;
    }
}

/* ---------------------------------------- Additional Container Indicator ---------------------------------------- */

@supports -moz-bool-pref("userChrome.AdditionalContainerIndicator-Enabled")
{
    .tabbrowser-tab[usercontextid] .tab-background
    {
        background-color: color-mix(in srgb, var(--identity-icon-color) 25%, transparent);
    }

    .tabbrowser-tab[usercontextid] .tab-background::before,
    .tabbrowser-tab[usercontextid] .tab-background::after
    {
        fill: color-mix(in srgb, var(--identity-icon-color) 25%, transparent);
    }
    
    .tabbrowser-tab[usercontextid] .tab-stack::before,
    .tabbrowser-tab[usercontextid] .tab-stack::after,
    .tabbrowser-tab[usercontextid] + .tabbrowser-tab .tab-stack::before
    {
        opacity: 0 !important;
    }
}

/* ---------------------------------------- Selected Tab Highlight ---------------------------------------- */

@supports -moz-bool-pref("userChrome.SelectedTabHighlight-Enabled")
{
    .tabbrowser-tab[visuallyselected]:not([pinned]) .tab-background
    {
        box-shadow: inset 0 2px 0 var(--tab-loading-fill) !important;
    }

    .tabbrowser-tab[visuallyselected][pinned] .tab-content
    {
        background-image: radial-gradient(circle at center, var(--tab-loading-fill) 2px, transparent 2px);
        background-size: 4px 4px;
        background-repeat: no-repeat;
    }
}

/* ---------------------------------------- Toolbar Transparency ---------------------------------------- */

@supports -moz-bool-pref("userChrome.SemiTransparentToolbar-Enabled")
{
    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode])
    {
        --custom-toolbar-bgcolor: color-mix(in srgb, Field 75%, transparent);
        --toolbar-bgcolor: var(--custom-toolbar-bgcolor) !important;
        --toolbar-field-background-color: var(--custom-toolbar-bgcolor) !important;
        --main-shadow-color: transparent !important;
        --additional-shadow-color: transparent !important;
    }
}

@supports -moz-bool-pref("userChrome.TransparentToolbar-Enabled") and
          -moz-bool-pref("userChrome.ProtonTabs-Enabled")
{
    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode])
    {
        --custom-toolbar-bgcolor: Field;
        --toolbar-bgcolor: transparent !important;
        --toolbar-bgimage: none !important;
        --toolbar-field-border-color: transparent !important;
        --toolbar-field-background-color: var(--custom-toolbar-bgcolor) !important;
    }
       
    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) .tabbrowser-tab[visuallyselected] .tab-background
    {
        background-color: var(--custom-toolbar-bgcolor) !important;
    }

    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) #TabsToolbar::before
    {
        display: none !important;
    }

    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) #urlbar:not([focused], [open]) > #urlbar-background,
    :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) #searchbar:focus-within
    {
        filter: var(--special-main-outer-shadow) var(--special-additional-outer-shadow) !important;
    }

    @supports -moz-bool-pref("userChrome.OneLine-Enabled")
    {
        :root:is(:not(:-moz-lwtheme), [lwt-default-theme-in-dark-mode]) :is(#nav-bar, #PersonalToolbar)
        {
            filter: none !important;
        }
    }
}

/* ---------------------------------------- Main Window ---------------------------------------- */

:root
{
    --tabs-navbar-shadow-size: 0px !important;
}

:root:is(:not(:-moz-lwtheme),
         [lwt-default-theme-in-dark-mode],
         [style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"],
         [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"])
{
    --button-hover-bgcolor: color-mix(in srgb, currentColor 10%, transparent) !important;
    --button-active-bgcolor: color-mix(in srgb, currentColor 20%, transparent) !important;
}

/* ---------------------------------------- Density ---------------------------------------- */

:root[uidensity="compact"]
{
    --tab-min-height: 32px !important;
}

:root[uidensity="touch"]
{
    --tab-min-height: 40px !important;
}

/* ---------------------------------------- Context Menus (Not System Related) ---------------------------------------- */

@supports -moz-bool-pref("userChrome.CompactContextMenu-Enabled") or
          -moz-bool-pref("userChrome.NormalContextMenu-Enabled") or
          -moz-bool-pref("userChrome.TouchContextMenu-Enabled")
{
    :root
    {
        --arrowpanel-menuitem-margin: 0 var(--browser-context-menu-margin-padding) !important;
        --arrowpanel-menuitem-padding-block: var(--browser-context-menu-margin-padding) !important;
        --arrowpanel-menuitem-padding-inline: var(--browser-context-menu-margin-padding) !important;
        --panel-separator-margin-vertical: var(--browser-context-menu-margin-padding) !important;
        --panel-separator-margin-horizontal: var(--browser-context-menu-margin-padding) !important;
        --panel-subview-body-padding: var(--browser-context-menu-margin-padding) 0 !important;
    }
}

@supports -moz-bool-pref("userChrome.CompactContextMenu-Enabled")
{
    :root
    {
        --browser-context-menu-margin-padding: 4px;
    }
}

@supports -moz-bool-pref("userChrome.NormalContextMenu-Enabled")
{
    :root
    {
        --browser-context-menu-margin-padding: 6px;
    }
}

@supports -moz-bool-pref("userChrome.TouchContextMenu-Enabled")
{
    :root
    {
        --browser-context-menu-margin-padding: 8px;
    }
}

/* ---------------------------------------- Drag Space ---------------------------------------- */

@supports -moz-bool-pref("userChrome.LeftSideDragSpace-Disabled")
{
    .titlebar-spacer[type="pre-tabs"]
    {
        display: none !important;
    }
}

@supports -moz-bool-pref("userChrome.RightSideDragSpace-Disabled")
{
    .titlebar-spacer[type="post-tabs"]
    {
        display: none !important;
    }
}

#TabsToolbar :is(.tabbrowser-tab, .toolbarbutton-1, separator, #personal-bookmarks, #search-container, .accessibility-indicator, .private-browsing-indicator)
{
    margin-top: var(--drag-space, 0px) !important;
}

/* ---------- Shadow DOM ---------- */

#tabbrowser-arrowscrollbox
{
    --margin-top: var(--drag-space, 0px) !important;
}

#scrollbutton-up,
#scrollbutton-down,
spacer[part="overflow-start-indicator"],
spacer[part="overflow-end-indicator"]
{
    margin-top: var(--margin-top, revert) !important;
}

/* -------------------- Windowed Mode -------------------- */

@supports not -moz-bool-pref("userChrome.DragSpaceAboveTabsWindowedMode-Disabled")
{
    :root[sizemode="normal"][tabsintitlebar]
    {
        --drag-space: 8px;
    }
    @supports -moz-bool-pref("userChrome.DragSpaceAboveTabsWindowedMode-Increased") {
        :root[sizemode="normal"][tabsintitlebar]
        {
            --drag-space: 16px !important;
        }
    }

}

/* ---------------------------------------- Titlebar ---------------------------------------- */

:root:is(:not(:-moz-lwtheme),
         [lwt-default-theme-in-dark-mode],
         [style*="--lwt-accent-color: rgb(240, 240, 244); --lwt-text-color: rgba(21, 20, 26);"],
         [style*="--lwt-accent-color: rgb(28, 27, 34); --lwt-text-color: rgba(251, 251, 254);"]) .titlebar-color
{
    color: inherit !important;
    --toolbarbutton-icon-fill: currentColor !important;
}

/* ---------------------------------------- Tabs ---------------------------------------- */

.tabbrowser-tab
{
    --tab-loading-fill: currentColor !important;
    --tab-label-mask-size: 1em !important;
    color: inherit !important;
    -moz-box-pack: end !important;
    overflow: visible !important;
}
       
.tabbrowser-tab[visuallyselected]
{
    --tab-loading-fill: var(--toolbar-field-focus-border-color) !important;
    color: var(--lwt-tab-text, var(--toolbar-color)) !important;
}

.tabbrowser-tab[visuallyselected] .tab-background
{
    background-color: var(--toolbar-bgcolor) !important;
    background-image: var(--toolbar-bgimage) !important;
    filter: var(--special-main-outer-shadow) var(--special-additional-outer-shadow) !important;
}

.tab-background
{
    position: relative !important;
    background-image: none !important;
    box-shadow: none !important;
    opacity: 1 !important;
    border: none !important;
    outline: none !important;
}

.tabbrowser-tab:hover:not([visuallyselected],[multiselected]) .tab-background
{
    background-color: var(--toolbarbutton-hover-background) !important;
}

.tabbrowser-tab[multiselected]:not([visuallyselected]) .tab-background
{
    background-color: var(--toolbarbutton-active-background) !important;
}

.tab-close-button
{
    width: 24px !important;
    padding: 7px !important;
    border-radius: 50% !important;
}

.tabbrowser-tab[pinned] .tab-content
{
    padding: 0 calc((var(--tab-min-height) - 16px) / 2 + var(--pinned-tabs-width-offset, 0px)) !important;
}

/* -------------------- Container Indicators -------------------- */

.tab-icon-stack::before
{
    content: "";
    display: block;
    position: absolute;
    width: 16px;
    height: var(--tab-min-height);
    top: calc((var(--tab-min-height) - 16px) / -2);
    background-image: radial-gradient(circle at center, var(--identity-icon-color) 2px, transparent 2px);
    background-size: 4px 4px;
    background-repeat: no-repeat;
    background-position: center bottom;
}

.tab-context-line
{
    opacity: 0 !important;
}

/* -------------------- Tab Loading Burst -------------------- */

@media (prefers-reduced-motion: no-preference)
{
    :root[sessionrestored] .tabbrowser-tab:is([bursting], [bursting][notselectedsinceload]) .tab-icon-stack::after
    {
        content: "";
        display: block;
        position: absolute;
        width: var(--tab-min-height);
        height: var(--tab-min-height);
        top: calc((var(--tab-min-height) - 16px) / -2);
        left: calc((var(--tab-min-height) - 16px) / -2);
        background-image: radial-gradient(circle at center, var(--tab-loading-fill) 2px, transparent 2px),
                          radial-gradient(circle at center, var(--tab-loading-fill) 2px, transparent 2px),
                          radial-gradient(circle at center, var(--tab-loading-fill) 2px, transparent 2px),
                          radial-gradient(circle at center, var(--tab-loading-fill) 2px, transparent 2px);
        background-size: calc((var(--tab-min-height) - 16px) / 2) calc((var(--tab-min-height) - 16px) / 2);
        background-repeat: no-repeat;
        background-position: center top, right center, center bottom, left center;
        opacity: 0;
        animation-name: TabLoadingBurst;
        animation-duration: 375ms;
        animation-timing-function: linear;
    }

    @keyframes TabLoadingBurst
    {
        0%
        {
            transform: rotateZ(0deg);
            opacity: 0;
        }

        50%
        {
            transform: rotateZ(180deg);
            opacity: 1;
        }

        100%
        {
            transform: rotateZ(360deg);
            opacity: 0;
        }
    }
}

.tab-loading-burst
{
    opacity: 0 !important;
}

/* -------------------- Tab Icon Indicators -------------------- */

#TabsToolbar
{
    --attention-icon-color: currentColor !important;
}

.tabbrowser-tab:not([visuallyselected]) .tab-icon-stack[busy] .tab-throbber::before
{
    fill: currentColor !important;
}

.tab-sharing-icon-overlay
{
    fill: currentColor !important;
}

/* -------------------- Tab Icon Image -------------------- */

.tabbrowser-tab:not([pinned]) .tab-icon-image:not([src], [crashed], [sharing], [pictureinpicture], [busy])
{
    display: revert !important;
}

/* -------------------- Media Icons -------------------- */

.tab-icon-overlay
{
    stroke: transparent !important;
    background-color: transparent !important;
    border-radius: 50% !important;
    color: inherit !important;
    fill: currentColor !important;
    fill-opacity: 1 !important;
    z-index: 1 !important;
    top: -6px !important;
    inset-inline-end: -6px !important;
}

.tab-icon-overlay:hover
{
    background-color: var(--toolbarbutton-hover-background) !important;
}

.tab-icon-overlay:active
{
    background-color: var(--toolbarbutton-active-background) !important;
}

.tab-icon-stack[busy] .tab-icon-overlay
{
    display: none !important;
}

.tabbrowser-tab:not([pinned]) :is(.tab-throbber, .tab-icon-pending, .tab-icon-image, .tab-sharing-icon-overlay, .tab-icon-overlay)
{
    margin-inline-end: var(--inline-tab-padding) !important;
    opacity: 1.0 !important;    
}

.tabbrowser-tab:is([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack:not([busy]) :is(.tab-throbber, .tab-icon-pending, .tab-icon-image, .tab-sharing-icon-overlay)
{
    mask-image: url("./special/SVG_Masks/sound_mask_16.svg");
}

/* -------------------- Tab Status Bar -------------------- */

#tabbrowser-tabs:not([secondarytext-unsupported]) .tab-label-container
{
    height: var(--tab-min-height) !important;
}

.tab-label
{
    line-height: 20px !important;
}

.tab-secondary-label
{
    -moz-box-ordinal-group: 0 !important;
    height: 16px !important;
    line-height: 16px !important;
    margin-block: 2px -6px !important;
}

/* ---------------------------------------- Tab Bar ---------------------------------------- */

#TabsToolbar
{
    --toolbarbutton-inner-padding: inherit !important;
    position: relative !important;
    clip-path: inset(0px) !important;
}

#TabsToolbar::before
{
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0%;
    bottom: 0%;
    z-index: 2;
    box-shadow: var(--tab-bar-main-inner-shadow), var(--tab-bar-additional-inner-shadow);
    background-repeat: no-repeat;
    pointer-events: none;
}

#TabsToolbar #search-container
{
    padding-block: 0 !important;
}

/* ---------------------------------------- Indents ---------------------------------------- */

#TabsToolbar-customization-target > :is(toolbarbutton, toolbaritem):first-child,
#TabsToolbar-customization-target > toolbarpaletteitem:first-child > :is(toolbarbutton, toolbaritem)
{
    margin-left: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) !important;
}

#TabsToolbar-customization-target > :is(toolbarbutton, toolbaritem):last-child,
#TabsToolbar-customization-target > toolbarpaletteitem:last-child > :is(toolbarbutton, toolbaritem),
#tabs-newtab-button
{
    margin-right: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) !important;
}

#tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-unpinned-tab]
{
    margin-left: 0px !important;
}

/* ---------------------------------------- Separators ---------------------------------------- */

.tab-stack
{
    margin-left: 1px !important;
}

.tab-stack::before,
.tabbrowser-tab[last-visible-tab] .tab-stack::after
{
    content: "";
    display: block;
    position: absolute;
    width: 1px;
    height: 50%;
    border-left: 1px solid currentColor;
    top: 25%;
    opacity: var(--separators-color-saturation, 0);
    box-sizing: border-box;
}
    
.tab-stack::before
{
    right: 100%;
}
    
.tab-stack::after
{
    left: 100%;
}

.tabbrowser-tab:is(
        [selected],
        [selected] + .tabbrowser-tab,
        :hover,
        :hover + .tabbrowser-tab,
        [multiselected],
        [multiselected] + .tabbrowser-tab) .tab-stack::before,
.tabbrowser-tab:is(
        [selected],
        :hover,
        [multiselected]) .tab-stack::after
{
    opacity: 0 !important;
}

.tabbrowser-tab[first-visible-tab] .tab-stack::before,
.tabbrowser-tab[last-visible-tab][pinned] .tab-stack::after,
#tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-unpinned-tab] .tab-stack::before,
#tabbrowser-tabs[overflow] .tab-stack::after
{
    opacity: 0 !important;
}

@supports -moz-bool-pref("userChrome.TabSeparators-Enabled")
{
    :root
    {
        --separators-color-saturation: 0.5;
    }
}

/* ---------------------------------------- Derived Styles ---------------------------------------- */

/* -------------------- SVG -------------------- */

@supports -moz-bool-pref("userChrome.WaveFoxTabs-Enabled")
{
    :root
    {
        --left-side-svg: url("special/WaveFox/WaveFox_left_corners_of_tabs_36.svg");
        --right-side-svg: url("special/WaveFox/WaveFox_right_corners_of_tabs_36.svg");
        --left-side-svg-clipped: url("special/WaveFox/WaveFox_left_corners_of_tabs_36_clipped.svg");
        --right-side-svg-clipped: url("special/WaveFox/WaveFox_right_corners_of_tabs_36_clipped.svg");
    }
}

@supports -moz-bool-pref("userChrome.AustralisTabs-Enabled")
{
    :root
    {
        --left-side-svg: url("special/Australis/Australis_left_corners_of_tabs_30.svg");
        --right-side-svg: url("special/Australis/Australis_right_corners_of_tabs_30.svg");
        --left-side-svg-clipped: url("special/Australis/Australis_left_corners_of_tabs_30_clipped.svg");
        --right-side-svg-clipped: url("special/Australis/Australis_right_corners_of_tabs_30_clipped.svg");
    }
}

@supports -moz-bool-pref("userChrome.LegacyChromeTabs-Enabled")
{
    :root
    {
        --left-side-svg: url("special/Chrome_Legacy/Chrome_legacy_left_corners_of_tabs_36.svg");
        --right-side-svg: url("special/Chrome_Legacy/Chrome_legacy_right_corners_of_tabs_36.svg");
        --left-side-svg-clipped: url("special/Chrome_Legacy/Chrome_legacy_left_corners_of_tabs_36_clipped.svg");
        --right-side-svg-clipped: url("special/Chrome_Legacy/Chrome_legacy_right_corners_of_tabs_36_clipped.svg");
    }
}

@supports -moz-bool-pref("userChrome.ChromeTabs-Enabled")
{
    :root
    {
        --left-side-svg: url("special/Chrome/Chrome_left_corners_of_tabs_36.svg");
        --right-side-svg: url("special/Chrome/Chrome_right_corners_of_tabs_36.svg");
        --left-side-svg-clipped: url("special/Chrome/Chrome_left_corners_of_tabs_36_clipped.svg");
        --right-side-svg-clipped: url("special/Chrome/Chrome_right_corners_of_tabs_36_clipped.svg");
    }
}

@supports -moz-bool-pref("userChrome.EdgeTabs-Enabled")
{
    :root
    {
        --left-side-svg: url("special/Edge/Edge_left_corners_of_tabs_32.svg");
        --right-side-svg: url("special/Edge/Edge_right_corners_of_tabs_32.svg");
        --left-side-svg-clipped: url("special/Edge/Edge_left_corners_of_tabs_32_clipped.svg");
        --right-side-svg-clipped: url("special/Edge/Edge_right_corners_of_tabs_32_clipped.svg");
    }
}

/* -------------------- Proton -------------------- */

@supports -moz-bool-pref("userChrome.ProtonTabs-Enabled")
{
    /* ---------- Indents ---------- */

    #tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab],
    #tabbrowser-tabs[positionpinnedtabs],
    #tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-unpinned-tab]
    {
        margin-left: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding) - 1px) !important;
    }

    .tabbrowser-tab[last-visible-tab]
    {
        margin-right: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) !important;
    }

    /* ---------- New Tab Button ---------- */

    #tabs-newtab-button
    {
        margin-left: calc(-1 * (var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) + 1px) !important;
    }

    /* ---------- Tab Icon Indicator ---------- */

    .tabbrowser-tab:is([image], [pinned]) .tab-content[attention]:not([selected]),
    .tab-content[pinned][titlechanged]:not([selected])
    {
        background-position: center var(--tab-block-margin) !important;
    }

    /* ---------- Selected Tab Highlight ---------- */

    .tabbrowser-tab[visuallyselected][pinned] .tab-content
    {
        background-position: center var(--tab-block-margin) !important;
    }

    /* ---------- Tabs ---------- */

    .tabbrowser-tab
    {
        padding-inline: var(--toolbarbutton-outer-padding) !important;
    }

    /* ---------- Separators ---------- */
       
    .tab-stack::before
    {
        transform: translateX(calc(-1 * var(--toolbarbutton-outer-padding)));
    }

    .tab-stack::after
    {
        transform: translateX(var(--toolbarbutton-outer-padding));
    }

    /* ---------- Density ---------- */

    :root[uidensity="compact"]
    {
        --tab-min-height: 28px !important;
    }
}

/* -------------------- Photon -------------------- */

@supports -moz-bool-pref("userChrome.PhotonTabs-Enabled")
{
    /* ---------- Indents ---------- */

    #tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab],
    #tabbrowser-tabs[positionpinnedtabs],
    #tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-unpinned-tab]
    {
        margin-left: calc(var(--toolbar-start-end-padding) - 1px) !important;
    }

    .tabbrowser-tab[last-visible-tab]
    {
        margin-right: var(--toolbar-start-end-padding) !important;
    }

    /* ---------- New Tab Button ---------- */

    #tabs-newtab-button
    {
        margin-left: calc(-1 * var(--toolbar-start-end-padding) + 1px) !important;
    }
}

/* -------------------- WaveFox / Photon / Australis / Chrome / Chrome-Old / Edge -------------------- */

@supports not -moz-bool-pref("userChrome.ProtonTabs-Enabled")
{
    /* ---------- Tabs ---------- */

    .tabbrowser-tab
    {
        padding-inline: 0 !important;
    }

    .tab-background
    {
        margin-block: 0 !important;
        border-radius: 0 !important;
    }

    /* ---------- Drag Space ---------- */

    @supports -moz-bool-pref("userChrome.DragSpaceAboveTabsMaximizedMode-Enabled")
    {
        :root[sizemode="maximized"][tabsintitlebar]
        {
            --drag-space: 8px;
        }
    }

    @supports -moz-bool-pref("userChrome.DragSpaceAboveTabsFullscreenMode-Enabled")
    {
        :root[sizemode="fullscreen"][tabsintitlebar]
        {
            --drag-space: 8px;
        }
    }

    /* ---------- Tab Icon Indicator ---------- */

    .tabbrowser-tab:is([image], [pinned]) .tab-content[attention]:not([selected]),
    .tab-content[pinned][titlechanged]:not([selected])
    {
        background-position: center top !important;
    }

    /* ---------- Selected Tab Highlight ---------- */

    .tabbrowser-tab[visuallyselected][pinned] .tab-content
    {
        background-position: center top !important;
    }
}

/* -------------------- WaveFox / Australis / Chrome / Chrome-Old / Edge -------------------- */

@supports not (-moz-bool-pref("userChrome.ProtonTabs-Enabled") or
               -moz-bool-pref("userChrome.PhotonTabs-Enabled"))
{
    /* ---------- Rounded Corners (SVG) ---------- */

    .tab-background::before,
    .tab-background::after
    {
        content: "";
        position: absolute;
        bottom: 0%;
        fill: transparent;
        z-index: -1;
        background-repeat: no-repeat;
        pointer-events: none;
        -moz-context-properties: fill;
    }

    .tab-background::before
    {
        right: 100%;
        background-image: var(--left-side-svg);
    }

    .tab-background::after
    {
        left: 100%;
        background-image: var(--right-side-svg);
    }

    .tabbrowser-tab[visuallyselected] .tab-background::before,
    .tabbrowser-tab[visuallyselected] .tab-background::after
    {
        fill: var(--toolbar-bgcolor) !important;
    }

    .tabbrowser-tab:hover .tab-background::before,
    .tabbrowser-tab:hover .tab-background::after
    {
        fill: var(--toolbarbutton-hover-background);
    }

    .tabbrowser-tab[multiselected] .tab-background::before,
    .tabbrowser-tab[multiselected] .tab-background::after
    {
        fill: var(--toolbarbutton-active-background);
    }
       
    .tabbrowser-tab[beforeselected-visible] .tab-background::after
    {
        background-image: var(--right-side-svg-clipped);
    }

    .tabbrowser-tab[visuallyselected] + .tabbrowser-tab .tab-background::before
    {
        background-image: var(--left-side-svg-clipped);
    }
       
    #tabbrowser-tabs[positionpinnedtabs] .tabbrowser-tab[first-visible-unpinned-tab] .tab-background::before
    {
        background-image: var(--left-side-svg) !important;
    }
}

/* ---------- WaveFox / Australis / Chrome-Old ---------- */

@supports -moz-bool-pref("userChrome.WaveFoxTabs-Enabled") or
          -moz-bool-pref("userChrome.AustralisTabs-Enabled") or
          -moz-bool-pref("userChrome.LegacyChromeTabs-Enabled")
{
    /* ---------- Rounded Corners (SVG) ---------- */

    .tab-background::before,
    .tab-background::after
    {
        width: var(--tab-min-height);
        height: var(--tab-min-height);
        background-size: var(--tab-min-height);
    }

    /* ---------- Tabs ---------- */

    .tab-background
    {
        margin-inline: calc(var(--tab-min-height) / 2) !important;
    }

    /* ---------- Indents ---------- */

    #tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab],
    #tabbrowser-tabs[positionpinnedtabs],
    #tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-unpinned-tab]
    {
        margin-left: calc(var(--tab-min-height) / 2 - 1px) !important;
    }

    .tabbrowser-tab[last-visible-tab]
    {
        margin-right: calc(var(--tab-min-height) / 2) !important;
    }
       
    /* ---------- New Tab Button ---------- */

    #tabs-newtab-button
    {
        margin-left: calc(var(--tab-min-height) / -2 + 3px) !important;
    }

    #tabs-newtab-button .toolbarbutton-icon
    {
        border-radius: 50% !important;
    }
}

/* -------------------- Chrome / Edge -------------------- */

@supports -moz-bool-pref("userChrome.ChromeTabs-Enabled") or
          -moz-bool-pref("userChrome.EdgeTabs-Enabled")
{
    /* ---------- Rounded Corners (SVG) ---------- */

    .tab-background::before,
    .tab-background::after
    {
        width: calc(var(--tab-min-height) / 2);
        height: var(--tab-min-height);
        background-size: calc(var(--tab-min-height) / 2);
    }

    /* ---------- Tabs ---------- */

    .tab-background
    {
        margin-inline: calc(var(--tab-min-height) / 4) !important;
    }

    /* ---------- Indents ---------- */

    #tabbrowser-tabs:not([overflow]) .tabbrowser-tab[first-visible-tab],
    #tabbrowser-tabs[positionpinnedtabs],
    #tabbrowser-tabs[overflow] .tabbrowser-tab[first-visible-unpinned-tab]
    {
        margin-left: calc(var(--tab-min-height) / 4 - 1px) !important;
    }

    .tabbrowser-tab[last-visible-tab]
    {
        margin-right: calc(var(--tab-min-height) / 4) !important;
    }
       
    /* ---------- New Tab Button ---------- */

    #tabs-newtab-button
    {
        margin-left: calc(var(--tab-min-height) / -4 + 1px) !important;
    }
       
    #tabs-newtab-button .toolbarbutton-icon
    {
        border-radius: 50% !important;
    }
}

/* ---------------------------------------- One Line ---------------------------------------- */

@supports -moz-bool-pref("userChrome.OneLine-Enabled") and
          -moz-bool-pref("userChrome.ProtonTabs-Enabled")
{
    #navigator-toolbox
    {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: nowrap !important;
        position: relative !important;
        border-bottom: none !important;
        -moz-window-dragging: drag !important;
    }

    #titlebar
    {
        flex-basis: 100% !important;
    }

    /* -------------------- Tab Bar -------------------- */

    #TabsToolbar::before
    {
        display: none;
    }

    /* -------------------- Nav Bar -------------------- */

    #nav-bar
    {
        min-width: fit-content !important;
        margin: calc(var(--tab-block-margin) + var(--drag-space, 0px)) var(--tab-block-margin) var(--tab-block-margin) !important;
        border-radius: var(--tab-border-radius) !important;
        -moz-box-align: center !important;
        filter: var(--special-main-outer-shadow) var(--special-additional-outer-shadow) !important;
        z-index: 1 !important;
    }

    #urlbar-container,
    #search-container
    {
        padding-block: 0px !important;
    }

    #urlbar-container
    {
        --urlbar-container-height: var(--tab-min-height) !important;
    }

    #urlbar
    {
        --urlbar-toolbar-height: var(--tab-min-height) !important;
    }

    /* -------------------- Bookmarks Bar -------------------- */

    #PersonalToolbar
    {
        min-width: fit-content !important;
        max-height: 100% !important;
        margin: calc(var(--tab-block-margin) + var(--drag-space, 0px)) var(--tab-block-margin) var(--tab-block-margin) !important;
        border-radius: var(--tab-border-radius) !important;
        filter: var(--special-main-outer-shadow) var(--special-additional-outer-shadow) !important;
        order: 2 !important;
    }

    #PersonalToolbar .bookmark-item .toolbarbutton-icon
    {
        margin-right: 0px !important;
    }

    #PersonalToolbar .bookmark-item .toolbarbutton-text
    {
        display: none !important;
    }
       
    @supports -moz-bool-pref("userChrome.ResponsiveBookmarksBar-Enabled")
    {
        #PersonalToolbar
        {
            max-width: 20vw !important;
        }
    }

    /* -------------------- Customizing Mode -------------------- */

    #customization-panelWrapper
    {
        --panel-arrow-offset: 0px !important;
    }
       
    /* -------------------- Notifications -------------------- */
    
    #navigator-toolbox :is(named-deck, div)
    {
        position: absolute !important;
        width: 100% !important;
        top: 100% !important;
        left: 0% !important;
        z-index: 1 !important;
    }
}
       
/* ---------------------------------------- Tabs On Bottom ---------------------------------------- */

@supports -moz-bool-pref("userChrome.TabsOnBottom-Enabled")
{
    #navigator-toolbox
    {
        border-bottom: none !important;
    }

    /* -------------------- Title Bar -------------------- */

    #titlebar
    {
        -moz-box-ordinal-group: 2 !important;
    }

    #toolbar-menubar
    {
        background-color: var(--toolbar-bgcolor) !important;
        background-image: var(--toolbar-bgimage) !important;
        color: var(--toolbar-color) !important;
        appearance: none !important;
    }

    /* -------------------- Tab Bar -------------------- */

    #TabsToolbar :is(.tabbrowser-tab, .toolbarbutton-1, separator, #personal-bookmarks, #search-container, .accessibility-indicator, .private-browsing-indicator)
    {
        margin-top: 0px !important;
        margin-bottom: var(--drag-space, 0px) !important;
    }

    #TabsToolbar::before
    {
        transform: rotateX(180deg);
    }

    /* ---------- Shadow DOM ---------- */

    #tabbrowser-arrowscrollbox
    {
        --margin-top: 0px !important;
        --margin-bottom: var(--drag-space, 0px) !important;
    }

    #scrollbutton-up,
    #scrollbutton-down,
    spacer[part="overflow-start-indicator"],
    spacer[part="overflow-end-indicator"]
    {
        margin-top: var(--margin-top, revert) !important;
        margin-bottom: var(--margin-bottom, revert) !important;
    }

    @supports not (-moz-bool-pref("userChrome.ProtonTabs-Enabled") or
                   -moz-bool-pref("userChrome.PhotonTabs-Enabled"))
    {
        /* ---------- Rounded Corners (SVG) ---------- */

        .tab-background::before,
        .tab-background::after
        {
            transform: rotateX(180deg);
        }
    }
}

/* ---------------------------------------- Menu Icons ---------------------------------------- */

/* ---------- Regular Icons ---------- */

@supports -moz-bool-pref("userChrome.RegularMenuIcons-Enabled")
{
    :root
    {
        --tab-new-page: url("./icons/tab_desktop_new_page_20_regular.svg");
        --window: url("./icons/window_20_regular.svg");
        --window-inprivate-account: url("./icons/window_inprivate_account_20_regular.svg");
        --star-line-horizontal: url("./icons/star_line_horizontal_3_20_regular.svg");
        --star-add: url("./icons/star_add_20_regular.svg");
        --star: url("./icons/star_20_filled.svg");
        --history: url("./icons/history_20_regular.svg");
        --arrow-download: url("./icons/arrow_download_20_regular.svg");
        --key: url("./icons/key_20_regular.svg");
        --puzzle-piece: url("./icons/puzzle_piece_20_regular.svg");
        --print: url("./icons/print_20_regular.svg");
        --save-edit: url("./icons/save_edit_20_regular.svg");
        --document-search: url("./icons/document_search_20_regular.svg");
        --settings: url("./icons/settings_20_regular.svg");
        --question-circle: url("./icons/question_circle_20_regular.svg");
        --color: url("./icons/color_20_regular.svg");
        --window-dev-tools: url("./icons/window_dev_tools_20_regular.svg");
        --person-feedback: url("./icons/person_feedback_20_regular.svg");
        --warning: url("./icons/warning_20_regular.svg");
        --arrow-clockwise: url("./icons/arrow_clockwise_20_regular.svg");
        --arrow-redo: url("./icons/arrow_redo_20_regular.svg");
        --arrow-undo: url("./icons/arrow_undo_20_regular.svg");
        --clipboard-paste: url("./icons/clipboard_paste_20_regular.svg");
        --clipboard-search: url("./icons/clipboard_search_20_regular.svg");
        --copy: url("./icons/copy_20_regular.svg");
        --cut: url("./icons/cut_20_regular.svg");
        --delete: url("./icons/delete_20_regular.svg");
        --dismiss: url("./icons/dismiss_20_regular.svg");
        --folder-add: url("./icons/folder_add_20_regular.svg");
        --pin: url("./icons/pin_20_regular.svg");
        --speaker-mute: url("./icons/speaker_mute_20_regular.svg");
        --tab-desktop: url("./icons/tab_desktop_20_regular.svg");
        --tab-desktop-copy: url("./icons/tab_desktop_copy_20_regular.svg");
        --edit: url("./icons/edit_20_regular.svg");
        --speaker-2: url("./icons/speaker_2_20_regular.svg");
        --camera-edit: url("./icons/camera_edit_20_regular.svg");
        --cursor-hover: url("./icons/cursor_hover_20_regular.svg");
        --image-copy: url("./icons/image_copy_20_regular.svg");
        --image-edit: url("./icons/image_edit_20_regular.svg");
        --link: url("./icons/link_20_regular.svg");
        --play: url("./icons/play_20_regular.svg");
        --pause: url("./icons/pause_20_regular.svg");
        --search: url("./icons/search_20_regular.svg");
        --tab-desktop-image: url("./icons/tab_desktop_image_20_regular.svg");
    }
}

/* ---------- Filled Icons ---------- */

@supports -moz-bool-pref("userChrome.FilledMenuIcons-Enabled")
{
    :root
    {
        --tab-new-page: url("./icons/tab_desktop_new_page_20_filled.svg");
        --window: url("./icons/window_20_filled.svg");
        --window-inprivate-account: url("./icons/window_inprivate_account_20_filled.svg");
        --star-line-horizontal: url("./icons/star_line_horizontal_3_20_filled.svg");
        --star-add: url("./icons/star_add_20_filled.svg");
        --star: url("./icons/star_20_filled.svg");
        --history: url("./icons/history_20_filled.svg");
        --arrow-download: url("./icons/arrow_download_20_filled.svg");
        --key: url("./icons/key_20_filled.svg");
        --puzzle-piece: url("./icons/puzzle_piece_20_filled.svg");
        --print: url("./icons/print_20_filled.svg");
        --save-edit: url("./icons/save_edit_20_filled.svg");
        --document-search: url("./icons/document_search_20_filled.svg");
        --settings: url("./icons/settings_20_filled.svg");
        --question-circle: url("./icons/question_circle_20_filled.svg");
        --color: url("./icons/color_20_filled.svg");
        --window-dev-tools: url("./icons/window_dev_tools_20_filled.svg");
        --person-feedback: url("./icons/person_feedback_20_filled.svg");
        --warning: url("./icons/warning_20_filled.svg");
        --arrow-clockwise: url("./icons/arrow_clockwise_20_filled.svg");
        --arrow-redo: url("./icons/arrow_redo_20_filled.svg");
        --arrow-undo: url("./icons/arrow_undo_20_filled.svg");
        --clipboard-paste: url("./icons/clipboard_paste_20_filled.svg");
        --clipboard-search: url("./icons/clipboard_search_20_filled.svg");
        --copy: url("./icons/copy_20_filled.svg");
        --cut: url("./icons/cut_20_filled.svg");
        --delete: url("./icons/delete_20_filled.svg");
        --dismiss: url("./icons/dismiss_20_filled.svg");
        --folder-add: url("./icons/folder_add_20_filled.svg");
        --pin: url("./icons/pin_20_filled.svg");
        --speaker-mute: url("./icons/speaker_mute_20_filled.svg");
        --tab-desktop: url("./icons/tab_desktop_20_filled.svg");
        --tab-desktop-copy: url("./icons/tab_desktop_copy_20_filled.svg");
        --edit: url("./icons/edit_20_filled.svg");
        --speaker-2: url("./icons/speaker_2_20_filled.svg");
        --camera-edit: url("./icons/camera_edit_20_filled.svg");
        --cursor-hover: url("./icons/cursor_hover_20_filled.svg");
        --image-copy: url("./icons/image_copy_20_filled.svg");
        --image-edit: url("./icons/image_edit_20_filled.svg");
        --link: url("./icons/link_20_filled.svg");
        --play: url("./icons/play_20_filled.svg");
        --pause: url("./icons/pause_20_filled.svg");
        --search: url("./icons/search_20_filled.svg");
        --tab-desktop-image: url("./icons/tab_desktop_image_20_filled.svg");
    }
}

/* ---------- Native Browser Menus ---------- */

@supports -moz-bool-pref("userChrome.RegularMenuIcons-Enabled") or
          -moz-bool-pref("userChrome.FilledMenuIcons-Enabled")
{
    :is(

        /* ----- Main Menu ----- */

        #appMenu-new-tab-button2,
        #appMenu-new-window-button2,
        #appMenu-new-private-window-button2,
        #appMenu-bookmarks-button,
        #appMenu-history-button,
        #appMenu-downloads-button,
        #appMenu-passwords-button,
        #appMenu-extensions-themes-button,
        #appMenu-print-button2,
        #appMenu-save-file-button2,
        #appMenu-find-button2,
        #appMenu-settings-button,
        #appMenu-help-button2,

        /* ----- Main Menu (Submenus) ----- */

        #appmenu-moreTools-button,
        #appmenu-developer-tools-view > toolbarbutton:nth-child(1),

        #appMenu_menu_openHelp,
        #appMenu_feedbackPage,
        #appMenu_menu_HelpPopup_reportPhishingtoolmenu,

        /* ----- Bookmark Menu ----- */

        #panelMenuBookmarkThisPage,
        #panelMenu_showAllBookmarks,
        #BMB_bookmarksShowAllTop,
        #BMB_bookmarksShowAll,

        /* ----- History Menu ----- */

        #PanelUI-historyMore,

        /* ----- Library Menu ----- */

        #appMenu-library-bookmarks-button,
        #appMenu-library-history-button,
        #appMenu-library-downloads-button,

        /* ----- Downloads Menu ----- */

        #downloadsHistory,

        /* ----- Developer Menu ----- */

        #PanelUI-developer-tools-view > toolbarbutton:nth-child(1),

        /* ----- Sidebar Menu ----- */

        #sidebar-switcher-bookmarks,
        #sidebar-switcher-history

    )::before
    {
        content: "";
        display: block;
        position: relative;
        width: 20px;
        height: 20px;
        background-size: 20px;
        background-repeat: no-repeat;
        background-position: center;
        margin-block: -2px;
        margin-inline: -2px 6px;
        fill: currentColor;
        -moz-context-properties: fill;
    }

    /* ----- Main Menu ----- */
    
    #appMenu-new-tab-button2::before
    {
        background-image: var(--tab-new-page);
    }
    
    #appMenu-new-window-button2::before
    {
        background-image: var(--window);
    }
    
    #appMenu-new-private-window-button2::before
    {
        background-image: var(--window-inprivate-account);
    }
    
    #appMenu-bookmarks-button::before
    {
        background-image: var(--star-line-horizontal);
    }
    
    #appMenu-history-button::before
    {
        background-image: var(--history);
    }
    
    #appMenu-downloads-button::before
    {
        background-image: var(--arrow-download);
    }
    
    #appMenu-passwords-button::before
    {
        background-image: var(--key);
    }
    
    #appMenu-extensions-themes-button::before
    {
        background-image: var(--puzzle-piece);
    }

    #appMenu-print-button2::before
    {
        background-image: var(--print);
    }

    #appMenu-save-file-button2::before
    {
        background-image: var(--save-edit);
    }

    #appMenu-find-button2::before
    {
        background-image: var(--document-search);
    }

    #appMenu-settings-button::before
    {
        background-image: var(--settings);
    }

    #appMenu-help-button2::before
    {
        background-image: var(--question-circle);
    }

    /* ----- Main Menu (Submenus) ----- */

    #appmenu-moreTools-button::before
    {
        background-image: var(--color);
    }

    #appmenu-developer-tools-view > toolbarbutton:nth-child(1)::before
    {
        background-image: var(--window-dev-tools);
    }

    #appMenu_menu_openHelp::before
    {
        background-image: var(--question-circle);
    }

    #appMenu_feedbackPage::before
    {
        background-image: var(--person-feedback);
    }

    #appMenu_menu_HelpPopup_reportPhishingtoolmenu::before
    {
        background-image: var(--warning);
    }

    /* ----- Bookmark Menu ----- */

    #panelMenuBookmarkThisPage::before
    {
        background-image: var(--star-add);
    }

    #panelMenuBookmarkThisPage[starred]::before
    {
        background-image: var(--star);
        fill: var(--toolbar-field-icon-fill-attention) !important;
    }

    :is(#panelMenu_showAllBookmarks, #BMB_bookmarksShowAllTop, #BMB_bookmarksShowAll)::before
    {
        background-image: var(--star-line-horizontal);
    }

    /* ----- History Menu ----- */

    #PanelUI-historyMore::before
    {
        background-image: var(--history);
    }

    /* ----- Library Menu ----- */

    #appMenu-library-bookmarks-button::before
    {
        background-image: var(--star-line-horizontal);
    }

    #appMenu-library-history-button::before
    {
        background-image: var(--history);
    }

    #appMenu-library-downloads-button::before
    {
        background-image: var(--arrow-download);
    }

    /* ----- Downloads Menu ----- */

    #downloadsHistory::before
    {
        background-image: var(--arrow-download);
    }

    /* ----- Developer Menu ----- */

    #PanelUI-developer-tools-view > toolbarbutton:nth-child(1)::before
    {
        background-image: var(--window-dev-tools);
    }

    /* ----- Sidebar Menu ----- */

    #sidebar-switcher-bookmarks::before
    {
        background-image: var(--star-line-horizontal);
    }

    #sidebar-switcher-history::before
    {
        background-image: var(--history);
    }

    /* ---------- Non-Native Browser Menus ---------- */

    @media (-moz-platform: windows),
           (-moz-platform: linux)
    {

    :is(

        /* ----- Toolbar Menubar Menu ----- */

        menuitem.viewCustomizeToolbar,

        /* ----- TabsToolbar Menu ----- */

        #toolbar-context-openANewTab,
        #toolbar-context-reloadSelectedTab,
        #toolbar-context-bookmarkSelectedTab,

        /* ----- Tab Menu ----- */

        #context_openANewTab,
        #context_reloadTab,
        #context_toggleMuteTab,
        #context_pinTab,
        #context_unpinTab,
        #context_duplicateTab,
        #context_bookmarkTab,
        #context_openTabInWindow,
        #context_closeTab,

        /* ----- Tabs Menu ----- */

        #context_reloadSelectedTabs,
        #context_toggleMuteSelectedTabs,
        #context_pinSelectedTabs,
        #context_unpinSelectedTabs,
        #context_duplicateTabs,
        #context_bookmarkSelectedTabs,

        /* ----- Urlbar Menu ----- */

        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(1),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(2),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(4),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(5),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(6),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(7),
        menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(8),

        /* ----- Searchbar Menu ----- */

        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(1),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(2),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(4),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(5),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(6),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(7),
        menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(8),

        /* ----- PersonalToolbar Menu ----- */

        #placesContext_openBookmarkContainer\:tabs,
        #placesContext_new\:bookmark,
        #placesContext_new\:folder,
        #placesContext_paste,
        #placesContext_showAllBookmarks,

        /* ----- Bookmarks Menu ----- */

        #placesContext_open\:newtab,
        #placesContext_open\:newwindow,
        #placesContext_open\:newprivatewindow,
        #placesContext_show_bookmark\:info,
        #placesContext_deleteBookmark,
        #placesContext_cut,
        #placesContext_copy,
        #placesContext_paste_group,

        /* ----- Folder Menu ----- */

        #placesContext_show_folder\:info,
        #placesContext_deleteFolder,

        /* ---------- Web Menu ---------- */

        /* ----- Menu ----- */

        #context-savepage,
        #context-take-screenshot,
        #context-inspect,

        /* ----- Text Menu ----- */

        #context-copy,
        #context-print-selection,
        #context-searchselect,

        /* ----- Image Menu ----- */

        #context-viewimage,
        #context-saveimage,
        #context-copyimage-contents,

        /* ----- Link Menu ----- */

        #context-openlinkintab,
        #context-openlink,
        #context-openlinkprivate,
        #context-bookmarklink,
        #context-savelink,
        #context-copylink,

        /* ----- Input Menu ----- */

        #context-undo,
        #context-redo,
        #context-cut,
        #context-copy,
        #context-paste,
        #context-delete,
        #context-keywordfield,

        /* ----- Video Menu ----- */

        #context-media-play,
        #context-media-pause,
        #context-media-mute,
        #context-media-unmute,
        #context-viewvideo,
        #context-savevideo

    )::before
    {
        content: "";
        display: block;
        position: relative;
        width: 20px;
        height: 20px;
        background-size: 20px;
        background-repeat: no-repeat;
        background-position: center;
        margin: var(--align-menu-icons);
        fill: currentColor;
        -moz-context-properties: fill;
    }

    /* ----- Toolbar Menubar Menu ----- */

    menuitem.viewCustomizeToolbar::before
    {
        background-image: var(--color);
    }

    /* ----- TabsToolbar Menu ----- */

    #toolbar-context-openANewTab::before
    {
        background-image: var(--tab-new-page);
    }

    #toolbar-context-reloadSelectedTab::before
    {
        background-image: var(--arrow-clockwise);
    }

    #toolbar-context-bookmarkSelectedTab::before
    {
        background-image: var(--star-add);
    }

    /* ----- Tab Menu ----- */

    #context_openANewTab::before
    {
        background-image: var(--tab-new-page);
    }

    #context_reloadTab::before
    {
        background-image: var(--arrow-clockwise);
    }

    #context_toggleMuteTab::before
    {
        background-image: var(--speaker-mute);
    }

    #context_toggleMuteTab[muted]::before
    {
        background-image: var(--speaker-2);
    }

    :is(#context_pinTab, #context_unpinTab)::before
    {
        background-image: var(--pin);
    }

    #context_duplicateTab::before
    {
        background-image: var(--tab-desktop-copy);
    }

    #context_bookmarkTab::before
    {
        background-image: var(--star-add);
    }

    #context_openTabInWindow::before
    {
        background-image: var(--window);
    }

    #context_closeTab::before
    {
        background-image: var(--dismiss);
    }

    /* ----- Tabs Menu ----- */

    #context_reloadSelectedTabs::before
    {
        background-image: var(--arrow-clockwise);
    }

    #context_toggleMuteSelectedTabs::before
    {
        background-image: var(--speaker-mute);
    }

    #context_toggleMuteSelectedTabs[muted]::before
    {
        background-image: var(--speaker-2);
    }

    :is(#context_pinSelectedTabs, #context_unpinSelectedTabs)::before
    {
        background-image: var(--pin);
    }

    #context_duplicateTabs::before
    {
        background-image: var(--tab-desktop-copy);
    }

    #context_bookmarkSelectedTabs::before
    {
        background-image: var(--star-add);
    }

    /* ----- Urlbar Menu ----- */

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(1)::before
    {
        background-image: var(--arrow-undo);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(2)::before
    {
        background-image: var(--arrow-redo);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(4)::before
    {
        background-image: var(--cut);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(5)::before
    {
        background-image: var(--copy);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(6)::before
    {
        background-image: var(--clipboard-paste);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(7)::before
    {
        background-image: var(--clipboard-search);
    }

    menupopup.textbox-contextmenu:nth-child(3) > menuitem:nth-child(8)::before
    {
        background-image: var(--delete);
    }

    /* ----- Searchbar Menu ----- */

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(1)::before
    {
        background-image: var(--arrow-undo);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(2)::before
    {
        background-image: var(--arrow-redo);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(4)::before
    {
        background-image: var(--cut);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(5)::before
    {
        background-image: var(--copy);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(6)::before
    {
        background-image: var(--clipboard-paste);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(7)::before
    {
        background-image: var(--clipboard-search);
    }

    menupopup.textbox-contextmenu:nth-child(4) > menuitem:nth-child(8)::before
    {
        background-image: var(--delete);
    }

    /* ----- PersonalToolbar Menu ----- */

    #placesContext_openBookmarkContainer\:tabs::before
    {
        background-image: var(--tab-desktop);
    }

    #placesContext_new\:bookmark::before
    {
        background-image: var(--star-add);
    }

    #placesContext_new\:folder::before
    {
        background-image: var(--folder-add);
    }

    #placesContext_paste::before
    {
        background-image: var(--clipboard-paste);
    }

    #placesContext_showAllBookmarks::before
    {
        background-image: var(--star-line-horizontal);
    }

    /* ----- Bookmarks Menu ----- */

    #placesContext_open\:newtab::before
    {
        background-image: var(--tab-new-page);
    }

    #placesContext_open\:newwindow::before
    {
        background-image: var(--window);
    }

    #placesContext_open\:newprivatewindow::before
    {
        background-image: var(--window-inprivate-account);
    }

    #placesContext_show_bookmark\:info::before
    {
        background-image: var(--edit);
    }

    #placesContext_deleteBookmark::before
    {
        background-image: var(--delete);
    }

    #placesContext_cut::before
    {
        background-image: var(--cut);
    }

    #placesContext_copy::before
    {
        background-image: var(--copy);
    }

    #placesContext_paste_group::before
    {
        background-image: var(--clipboard-paste);
    }

    /* ----- Folder Menu ----- */

    #placesContext_show_folder\:info::before
    {
        background-image: var(--edit);
    }

    #placesContext_deleteFolder::before
    {
        background-image: var(--delete);
    }

    /* ---------- Web Menu ---------- */

    #context-savepage::before
    {
        background-image: var(--save-edit);
    }

    #context-take-screenshot::before
    {
        background-image: var(--camera-edit);
    }

    #context-inspect::before
    {
        background-image: var(--cursor-hover);
    }

    #context-copy::before
    {
        background-image: var(--copy);
    }

    #context-print-selection::before
    {
        background-image: var(--print);
    }

    #context-searchselect::before
    {
        background-image: var(--search);
    }

    #context-viewimage::before
    {
        background-image: var(--tab-desktop-image);
    }

    #context-saveimage::before
    {
        background-image: var(--image-edit);
    }

    #context-copyimage-contents::before
    {
        background-image: var(--image-copy);
    }

    #context-openlinkintab::before
    {
        background-image: var(--tab-desktop);
    }

    #context-openlink::before
    {
        background-image: var(--window);
    }

    #context-openlinkprivate::before
    {
        background-image: var(--window-inprivate-account);
    }

    #context-bookmarklink::before
    {
        background-image: var(--star-add);
    }

    #context-savelink::before
    {
        background-image: var(--save-edit);
    }

    #context-copylink::before
    {
        background-image: var(--link);
    }

    #context-undo::before
    {
        background-image: var(--arrow-undo);
    }

    #context-redo::before
    {
        background-image: var(--arrow-redo);
    }

    #context-cut::before
    {
        background-image: var(--cut);
    }

    #context-copy::before
    {
        background-image: var(--copy);
    }

    #context-paste::before
    {
        background-image: var(--clipboard-paste);
    }

    #context-delete::before
    {
        background-image: var(--delete);
    }

    #context-keywordfield::before
    {
        background-image: var(--star-add);
    }

    #context-media-play::before
    {
        background-image: var(--play);
    }

    #context-media-pause::before
    {
        background-image: var(--pause);
    }

    #context-media-mute::before
    {
        background-image: var(--speaker-mute);
    }

    #context-media-unmute::before
    {
        background-image: var(--speaker-2);
    }

    #context-viewvideo::before
    {
        background-image: var(--tab-desktop);
    }

    #context-savevideo::before
    {
        background-image: var(--save-edit);
    }

  }

}

}
